!set plannerStrategy DECOUPLED
!set enableWindowing true
!set maxNumTasks 3
!use druidtest://?componentSupplier=DrillWindowQueryMSQComponentSupplier
!set outputformat mysql

select
countryName, added,
row_number() over (order by added) as c1
from wikipedia
where countryName in ('Egypt', 'El Salvador')
group by countryName, cityName, added;
+-------------+-------+----+
| countryName | added | c1 |
+-------------+-------+----+
| Egypt       |     1 |  2 |
| Egypt       |   112 |  8 |
| Egypt       |    14 |  4 |
| Egypt       |    16 |  5 |
| Egypt       |    27 |  6 |
| El Salvador |     0 |  1 |
| El Salvador |   106 |  7 |
| El Salvador |     9 |  3 |
+-------------+-------+----+
(8 rows)

!ok
